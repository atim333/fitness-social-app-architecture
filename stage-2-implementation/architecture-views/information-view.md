# Информационное представление архитектуры (DDD-ориентированное)

## Обзор

Информационное представление описывает структуру данных системы, организованную по принципам Domain-Driven Design (DDD). Данные сгруппированы по ограниченным контекстам, каждый из которых содержит агрегаты, сущности, объекты-значения и доменные события.

---

## 1. User & Social Context (Core Domain)

### 1.1 Агрегат User (корень)

**Описание:** Основной агрегат, представляющий пользователя системы.

**Состав агрегата:**

**Сущности:**
- `UserProfile` (сущность): основная информация о пользователе
- `PrivacySettings` (сущность): настройки приватности
- `SportInventory` (сущность): список спортивного инвентаря пользователя

**Объекты-значения:**
- `EmailAddress`:
  - Атрибуты: `localPart`, `domain`
  - Бизнес-правила: формат email, проверка домена, максимальная длина 254 символа
- `Age`:
  - Атрибуты: `value` (целое число)
  - Бизнес-правила: диапазон от 13 до 100, расчет возрастной группы
- `FitnessGoal`:
  - Атрибуты: `goalType`, `targetValue`, `deadline`, `unit`
  - Бизнес-правила: цель должна быть из списка допустимых, дедлайн в будущем

**Инварианты агрегата:**
- Максимальное количество друзей: 5000
- Обязательная верификация email для активации аккаунта
- Минимальный возраст для регистрации: 13 лет

**Доменные события:**
- `UserRegistered` (публикуется при успешной регистрации)
- `ProfileUpdated` (публикуется при изменении профиля)
- `InventoryAdded` (публикуется при добавлении нового инвентаря)

### 1.2 Агрегат SocialGroup (корень)

**Описание:** Представляет социальную группу или сообщество пользователей.

**Состав агрегата:**

**Сущности:**
- `GroupMember` (сущность): информация о члене группы
- `GroupContent` (сущность): контент, опубликованный в группе
- `ModerationRule` (сущность): правила модерации для группы

**Объекты-значения:**
- `GroupType`:
  - Атрибуты: `type` (Public, Private, Secret)
  - Бизнес-правила: тип влияет на видимость и правила вступления
- `MembershipRole`:
  - Атрибуты: `role` (Admin, Moderator, Member)
  - Бизнес-правила: роли определяют права доступа и управления
- `ContentVisibility`:
  - Атрибуты: `level` (Public, MembersOnly, AdminOnly)
  - Бизнес-правила: уровень определяет, кто может видеть контент

**Инварианты агрегата:**
- Минимальный возраст для создания группы: 16 лет
- Максимальный размер группы: 5000 участников для бесплатных аккаунтов
- Группа должна иметь хотя бы одного администратора
- Участники не могут иметь одинаковые роли (уникальность ролей)

**Доменные события:**
- `GroupCreated` (публикуется при создании группы)
- `MemberJoined` (публикуется при вступлении нового участника)
- `ContentPublished` (публикуется при публикации контента в группе)
- `ModerationRuleAdded` (публикуется при добавлении правила модерации)

### 1.3 Агрегат Friendship (корень)

**Описание:** Управляет двусторонними связями дружбы между пользователями.

**Состав агрегата:**

**Сущности:**
- `FriendRequest` (сущность): запрос на дружбу между пользователями
- `FriendshipStatus` (сущность): текущий статус дружеских отношений

**Объекты-значения:**
- `FriendshipType`:
  - Атрибуты: `type` (Mutual, Following, Follower)
  - Бизнес-правила: тип определяет характер связи
- `ConnectionStrength`:
  - Атрибуты: `score` (число от 0 до 100)
  - Бизнес-правила: расчёт на основе общих интересов, активности и времени
- `InteractionHistory`:
  - Атрибуты: `lastInteraction`, `interactionCount`, `qualityScore`
  - Бизнес-правила: история влияет на рекомендации и видимость

**Инварианты агрегата:**
- Максимальное количество исходящих запросов в друзья: 50 в день
- Нельзя отправить запрос самому себе
- Запрос на дружбу может быть только в одном статусе одновременно
- Дружба должна быть подтверждена обеими сторонами для статуса Mutual

**Доменные события:**
- `FriendRequestSent` (публикуется при отправке запроса на дружбу)
- `FriendRequestAccepted` (публикуется при принятии запроса)
- `FriendshipEnded` (публикуется при удалении друга или отмене дружбы)
- `FriendshipStrengthened` (публикуется при увеличении силы связи)

---

## 2. Activity & Training Context

### 2.1 Агрегат TrainingSession (корень)

**Описание:** Представляет отдельную тренировочную сессию пользователя.

**Состав агрегата:**

**Сущности:**
- `Exercise` (сущность): конкретное упражнение в рамках сессии
- `Metric` (сущность): измеренные показатели во время тренировки
- `DeviceReading` (сущность): данные, полученные с подключенных устройств

**Объекты-значения:**
- `Duration`:
  - Атрибуты: `hours`, `minutes`, `seconds`
  - Бизнес-правила: положительные значения, суммарное время не более 24 часов
- `HeartRate`:
  - Атрибуты: `value` (число), `unit` (BPM)
  - Бизнес-правила: значение от 40 до 220 (с учетом возраста), целое число
- `GPSLocation`:
  - Атрибуты: `latitude`, `longitude`, `altitude`, `accuracy`
  - Бизнес-правила: широта от -90 до 90, долгота от -180 до 180

**Инварианты агрегата:**
- Минимальная продолжительность тренировки: 1 минута
- Максимальное количество упражнений в сессии: 50
- Все показатели должны иметь временные метки в рамках сессии
- Устройства должны быть предварительно подключены и авторизованы

**Доменные события:**
- `WorkoutStarted` (публикуется при начале тренировки)
- `WorkoutPaused` (публикуется при паузе тренировки)
- `WorkoutResumed` (публикуется при возобновлении тренировки)
- `WorkoutCompleted` (публикуется при завершении тренировки)

### 2.2 Агрегат ProgressTracker (корень)

**Описание:** Отслеживает прогресс пользователя в достижении спортивных целей.

**Состав агрегата:**

**Сущности:**
- `Goal` (сущность): конкретная спортивная цель
- `Milestone` (сущность): промежуточный этап на пути к цели
- `AchievementRecord` (сущность): запись о достижении цели или этапа

**Объекты-значения:**
- `ProgressPercentage`:
  - Атрибуты: `value` (число от 0 до 100)
  - Бизнес-правила: расчёт на основе выполненных этапов
- `TimeFrame`:
  - Атрибуты: `startDate`, `endDate`, `duration`
  - Бизнес-правила: дата окончания должна быть позже даты начала
- `DifficultyLevel`:
  - Атрибуты: `level` (Beginner, Intermediate, Advanced, Expert)
  - Бизнес-правила: уровень должен соответствовать опыту пользователя

**Инварианты агрегата:**
- Пользователь не может иметь более 10 активных целей одновременно
- Прогресс не может превышать 100%
- Цель должна иметь как минимум один этап (milestone)
- Достижение должно быть подтверждено данными тренировок

**Доменные события:**
- `GoalSet` (публикуется при установке новой цели)
- `MilestoneReached` (публикуется при достижении этапа)
- `GoalCompleted` (публикуется при завершении цели)
- `ProgressUpdated` (публикуется при обновлении прогресса)

---

## 3. Health & Device Context

### 3.1 Агрегат Device (корень)

**Описание:** Управляет подключенными фитнес-устройствами пользователя.

**Состав агрегата:**

**Сущности:**
- `DeviceConnection` (сущность): информация о подключении устройства
- `CalibrationData` (сущность): данные калибровки для устройства
- `SensorReading` (сущность): показания с датчиков устройства

**Объекты-значения:**
- `DeviceType`:
  - Атрибуты: `type` (FitnessTracker, Smartwatch, HeartRateMonitor, GPSWatch)
  - Бизнес-правила: тип определяет поддерживаемые функции и протоколы
- `ConnectionStatus`:
  - Атрибуты: `status` (Connected, Disconnected, Pairing, Error)
  - Бизнес-правила: статус влияет на возможность сбора данных
- `BatteryLevel`:
  - Атрибуты: `percentage` (число от 0 до 100), `charging` (булево)
  - Бизнес-правила: уровень батареи влияет на частоту синхронизации

**Инварианты агрегата:**
- Устройство должно быть однозначно идентифицировано (MAC-адрес или серийный номер)
- Максимальное количество подключенных устройств на пользователя: 10
- Калибровка обязательна для медицинских устройств (пульсометры, оксиметры)
- Устройство не может быть в статусе "Connected" без активного подключения

**Доменные события:**
- `DeviceConnected` (публикуется при успешном подключении устройства)
- `DeviceCalibrated` (публикуется после калибровки устройства)
- `DeviceErrorDetected` (публикуется при обнаружении ошибки устройства)
- `DeviceDisconnected` (публикуется при отключении устройства)

### 3.2 Агрегат HealthMetric (корень)

**Описание:** Управляет медицинскими показателями пользователя.

**Состав агрегата:**

**Сущности:**
- `MetricMeasurement` (сущность): отдельное измерение показателя
- `AlertThreshold` (сущность): пороговые значения для генерации оповещений
- `HealthTrend` (сущность): тренд изменения показателя во времени

**Объекты-значения:**
- `MetricType`:
  - Атрибуты: `type` (HeartRate, BloodOxygen, BloodPressure, BodyTemperature)
  - Бизнес-правила: тип определяет единицы измерения и нормальные диапазоны
- `MeasurementUnit`:
  - Атрибуты: `unit` (BPM, SpO2%, mmHg, °C)
  - Бизнес-правила: единица измерения должна соответствовать типу метрики
- `NormalRange`:
  - Атрибуты: `minNormal`, `maxNormal`, `ageGroup`, `gender`
  - Бизнес-правила: диапазон зависит от возраста, пола и типа метрики

**Инварианты агрегата:**
- Критические значения должны немедленно генерировать оповещения
- Тренды рассчитываются только при наличии минимум 5 измерений
- Измерения должны иметь временную метку с точностью до секунды
- Данные старше 24 часов считаются историческими и обрабатываются отдельно

**Доменные события:**
- `HealthMetricRecorded` (публикуется при записи нового измерения)
- `CriticalAlertTriggered` (публикуется при превышении критического порога)
- `HealthTrendDetected` (публикуется при выявлении значимого тренд)
- `MetricNormalized` (публикуется при возврате показателя в нормальный диапазон)

---

## 4. Commerce & Recommendations Context

### 4.1 Агрегат Product (корень)

**Описание:** Управляет спортивными товарами в каталоге.

**Состав агрегата:**

**Сущности:**
- `ProductVariant` (сущность): вариант товара (размер, цвет)
- `InventoryItem` (сущность): информация о наличии на складе
- `ProductSpecification` (сущность): технические характеристики товара

**Объекты-значения:**
- `Price`:
  - Атрибуты: `amount` (decimal), `currency` (код валюты)
  - Бизнес-правила: сумма положительная, валюта из списка поддерживаемых
- `WearLevel`:
  - Атрибуты: `percentage` (число от 0 до 100), `estimatedDistanceLeft` (км)
  - Бизнес-правила: расчёт на основе использования и типа товара
- `Compatibility`:
  - Атрибуты: `sportTypes`, `userLevel`, `deviceCompatibility`
  - Бизнес-правила: проверка совместимости с тренировочными планами

**Инварианты агрегата:**
- Товар должен иметь как минимум один вариант (SKU)
- Цена не может быть отрицательной
- Уровень износа не может превышать 100%
- Товары с нулевым остатком на складе не отображаются как доступные

**Доменные события:**
- `ProductAddedToCatalog` (публикуется при добавлении товара в каталог)
- `InventoryUpdated` (публикуется при изменении остатков)
- `WearLevelCalculated` (публикуется при расчёте износа)
- `PriceChanged` (публикуется при изменении цены)

### 4.2 Агрегат Recommendation (корень)

**Описание:** Управляет персонализированными рекомендациями для пользователя.

**Состав агрегата:**

**Сущности:**
- `RecommendationItem` (сущность): конкретная рекомендация (товар, тренировка, контент)
- `RecommendationRule` (сущность): правило, по которому сгенерирована рекомендация
- `UserFeedback` (сущность): отзыв пользователя на рекомендацию

**Объекты-значения:**
- `RelevanceScore`:
  - Атрибуты: `score` (число от 0 до 100)
  - Бизнес-правила: расчёт на основе истории, интересов и поведения
- `RecommendationType`:
  - Атрибуты: `type` (Product, Workout, Content, Social)
  - Бизнес-правила: тип определяет источник данных и логику показа
- `DisplayPriority`:
  - Атрибуты: `priority` (High, Medium, Low), `expirationDate`
  - Бизнес-правила: приоритет влияет на порядок показа, рекомендация актуальна до expirationDate

**Инварианты агрегата:**
- Рекомендация не может быть показана чаще 3 раз в день одному пользователю
- Минимальный порог релевантности для показа: 30 баллов
- Рекомендация должна соответствовать хотя бы одному правилу
- Пользовательский отзыв обязателен для оценки эффективности рекомендаций

**Доменные события:**
- `RecommendationGenerated` (публикуется при создании новой рекомендации)
- `RecommendationDisplayed` (публикуется при показе рекомендации пользователю)
- `RecommendationAccepted` (публикуется при принятии рекомендации)
- `RecommendationFeedbackReceived` (публикуется при получении отзыва)

### 4.3 Агрегат ShoppingCart (корень)

**Описание:** Управляет корзиной покупок пользователя.

**Состав агрегата:**

**Сущности:**
- `CartItem` (сущность): товар в корзине с количеством и ценой
- `AppliedPromotion` (сущность): применённые промоакции и скидки

**Объекты-значения:**
- `CartStatus`:
  - Атрибуты: `status` (Active, Abandoned, Converted, Expired)
  - Бизнес-правила: статус меняется при взаимодействии с корзиной
- `TotalPrice`:
  - Атрибуты: `subtotal`, `discount`, `tax`, `finalAmount`
  - Бизнес-правила: итоговая сумма не может быть отрицательной

**Поля TTL:**
- `expiresAt`: временная метка автоматического удаления (TTL 24 часа)

**Инварианты агрегата:**
- Корзина должна принадлежать пользователю или анонимной сессии
- Количество товара не может превышать доступное на складе
- Скидка не может превышать 70% от оригинальной цены
- Корзина автоматически очищается через 24 часа неактивности

**Доменные события:**
- `CartCreated` (публикуется при создании корзины)
- `ItemAddedToCart` (публикуется при добавлении товара)
- `CartUpdated` (публикуется при изменении корзины)
- `CartExpired` (публикуется при истечении TTL)

### 4.4 Агрегат Reservation (корень)

**Описание:** Управляет резервированием товаров на складе.

**Состав агрегата:**

**Сущности:**
- `ReservedItem` (сущность): зарезервированный товар с количеством
- `ReservationSource` (сущность): источник резервирования (заказ, корзина)

**Объекты-значения:**
- `ReservationStatus`:
  - Атрибуты: `status` (Active, Completed, Cancelled, Expired)
  - Бизнес-правила: статус определяет доступность товара
- `WarehouseLocation`:
  - Атрибуты: `warehouseId`, `zone`, `shelf`
  - Бизнес-правила: расположение товара на складе

**Поля TTL:**
- `expiresAt`: временная метка автоматического освобождения (TTL 30 минут)

**Инварианты агрегата:**
- Резервирование должно ссылаться на существующий товар
- Зарезервированное количество не может превышать доступное на складе
- Один товар может быть зарезервирован в нескольких резервированиях
- Резервирование автоматически отменяется через 30 минут

**Доменные события:**
- `ReservationCreated` (публикуется при создании резервирования)
- `ReservationUpdated` (публикуется при изменении резервирования)
- `ReservationExpired` (публикуется при истечении TTL)
- `ReservationReleased` (публикуется при освобождении товара)

---

## 5. Поддерживающие домены (Supporting Domains)

### 5.1 Агрегат Achievement (корень)

**Описание:** Управляет системой достижений и бейджей.

**Состав агрегата:**

**Сущности:**
- `Badge` (сущность): конкретный бейдж или награда
- `AchievementCondition` (сущность): условие для получения достижения
- `UserProgress` (сущность): прогресс пользователя в выполнении условий

**Объекты-значения:**
- `DifficultyTier`:
  - Атрибуты: `tier` (Bronze, Silver, Gold, Platinum)
  - Бизнес-правила: тир определяет сложность и редкость достижения
- `ProgressValue`:
  - Атрибуты: `current`, `required`
  - Бизнес-правила: текущее значение не может превышать требуемое
- `UnlockStatus`:
  - Атрибуты: `status` (Locked, InProgress, Unlocked)
  - Бизнес-правила: статус меняется по мере выполнения условий

**Инварианты агрегата:**
- Достижение не может быть разблокировано без выполнения всех условий
- Прогресс не может быть отрицательным
- Одно достижение не может быть разблокировано дважды одним пользователем
- Условия достижения должны быть измеримы и проверяемы

**Доменные события:**
- `AchievementUnlocked` (публикуется при разблокировке достижения)
- `ProgressUpdated` (публикуется при обновлении прогресса)
- `BadgeAwarded` (публикуется при награждении бейджем)
- `AchievementReset` (публикуется при сбросе прогресса)

### 5.2 Агрегат Notification (корень)

**Описание:** Управляет системой уведомлений и коммуникаций.

**Состав агрегата:**

**Сущности:**
- `NotificationMessage` (сущность): содержание уведомления
- `DeliveryChannel` (сущность): канал доставки (push, email, SMS)
- `UserPreference` (сущность): настройки уведомлений пользователя

**Объекты-значения:**
- `NotificationType`:
  - Атрибуты: `type` (Social, System, Achievement, Reminder, Alert)
  - Бизнес-правила: тип определяет шаблон и приоритет
- `DeliveryStatus`:
  - Атрибуты: `status` (Pending, Sent, Delivered, Read, Failed)
  - Бизнес-правила: статус меняется в процессе доставки
- `PriorityLevel`:
  - Атрибуты: `level` (Low, Medium, High, Critical)
  - Бизнес-правила: приоритет влияет на порядок и время доставки

**Инварианты агрегата:**
- Уведомление не может быть отправлено без указания получателя
- Критические уведомления должны быть подтверждены получением
- Пользователь может отключить не критичные типы уведомлений
- Уведомления старше 30 дней архивируются

**Доменные события:**
- `NotificationScheduled` (публикуется при планировании уведомления)
- `NotificationSent` (публикуется при отправке уведомления)
- `NotificationDelivered` (публикуется при доставке уведомления)
- `NotificationRead` (публикуется при прочтении уведомления)

---

## 6. Инфраструктурные домены (Infrastructure Domains)

### 6.1 Агрегат IdempotencyRecord (корень)

**Описание:** Управляет ключами идемпотентности для предотвращения дублирования операций.

**Состав агрегата:**

**Сущности:**
- `KeyMetadata` (сущность): метаданные ключа идемпотентности
- `OperationResult` (сущность): результат операции для кэширования

**Объекты-значения:**
- `IdempotencyKey`:
  - Атрибуты: `keyValue` (UUID v4), `source` (клиент, система)
  - Бизнес-правила: ключ должен быть уникальным в течение TTL
- `OperationContext`:
  - Атрибуты: `service`, `endpoint`, `parametersHash`
  - Бизнес-правила: контекст используется для валидации повторного запроса
- `CacheStatus`:
  - Атрибуты: `status` (Pending, Completed, Failed)
  - Бизнес-правила: статус определяет доступность кэшированного результата

**Поля TTL:**
- `expiresAt`: временная метка автоматического удаления (TTL 24 часа)

**Инварианты агрегата:**
- Ключ идемпотентности должен быть в формате UUID v4
- Один ключ может быть использован только для одной операции
- Результат операции кэшируется только при успешном выполнении
- Ключ автоматически удаляется через 24 часа

**Доменные события:**
- `IdempotencyKeyCreated` (публикуется при создании нового ключа)
- `OperationResultCached` (публикуется при кэшировании результата)
- `IdempotencyKeyUsed` (публикуется при использовании существующего ключа)
- `IdempotencyRecordExpired` (публикуется при истечении TTL)

### 6.2 Агрегат SagaState (корень)

**Описание:** Управляет состоянием распределённых транзакций (саг).

**Состав агрегата:**

**Сущности:**
- `SagaStep` (сущность): шаг выполнения саги
- `CompensationAction` (сущность): компенсирующее действие для отката
- `TransactionContext` (сущность): контекст транзакции

**Объекты-значения:**
- `SagaStatus`:
  - Атрибуты: `status` (Started, InProgress, Completed, Compensating, Failed)
  - Бизнес-правила: статус определяет текущую фазу выполнения
- `StepResult`:
  - Атрибуты: `stepId`, `result` (Success, Failure), `errorDetails`
  - Бизнес-правила: результат шага влияет на следующий шаг
- `RetryPolicy`:
  - Атрибуты: `maxRetries`, `currentRetry`, `backoffStrategy`
  - Бизнес-правила: политика повторных попыток при сбоях

**Инварианты агрегата:**
- Сага должна иметь уникальный идентификатор в рамках бизнес-процесса
- Каждый шаг должен иметь компенсирующее действие (для оркестрируемых саг)
- Сага не может перейти в статус Completed без успешного выполнения всех шагов
- В случае сбоя запускаются компенсирующие действия в обратном порядке

**Доменные события:**
- `SagaStarted` (публикуется при начале выполнения саги)
- `SagaStepCompleted` (публикуется при успешном выполнении шага)
- `SagaStepFailed` (публикуется при сбое шага)
- `SagaCompensated` (публикуется при выполнении компенсации)
- `SagaCompleted` (публикуется при успешном завершении саги)

### 6.3 Агрегат BatchJob (корень)

**Описание:** Управляет заданиями массовой обработки.

**Состав агрегата:**

**Сущности:**
- `JobItem` (сущность): элемент задания для обработки
- `ProcessingResult` (сущность): результат обработки элемента
- `JobConfiguration` (сущность): конфигурация задания

**Объекты-значения:**
- `JobStatus`:
  - Атрибуты: `status` (Pending, Processing, Completed, Failed, Cancelled)
  - Бизнес-правила: статус определяет стадию выполнения задания
- `BatchSize`:
  - Атрибуты: `totalItems`, `processedItems`, `failedItems`
  - Бизнес-правила: статистика выполнения задания
- `PriorityLevel`:
  - Атрибуты: `level` (Low, Normal, High, Critical)
  - Бизнес-правила: приоритет влияет на порядок выполнения

**Поля TTL:**
- `expiresAt`: временная метка автоматической архивации результатов (TTL 7 дней)

**Инварианты агрегата:**
- Задание должно иметь хотя бы один элемент для обработки
- Элементы обрабатываются батчами по 1000 элементов
- Задание не может быть запущено повторно после завершения
- Результаты обработки архивируются через 7 дней

**Доменные события:**
- `BatchJobCreated` (публикуется при создании задания)
- `BatchProcessingStarted` (публикуется при начале обработки)
- `BatchItemProcessed` (публикуется при обработке элемента)
- `BatchJobCompleted` (публикуется при завершении задания)
- `BatchJobFailed` (публикуется при сбое задания)

### 6.4 Агрегат DistributedLock (корень)

**Описание:** Управляет распределёнными блокировками для синхронизации доступа к ресурсам.

**Состав агрегата:**

**Сущности:**
- `LockHolder` (сущность): информация о держателе блокировки
- `ResourceMetadata` (сущность): метаданные защищаемого ресурса

**Объекты-значения:**
- `LockType`:
  - Атрибуты: `type` (Exclusive, Shared, Optimistic)
  - Бизнес-правила: тип определяет политику доступа к ресурсу
- `LockStatus`:
  - Атрибуты: `status` (Acquired, Released, Expired, Broken)
  - Бизнес-правила: статус определяет доступность ресурса
- `TimeoutSettings`:
  - Атрибуты: `acquireTimeout`, `lockDuration`, `renewalInterval`
  - Бизнес-правила: настройки времени для управления блокировкой

**Поля TTL:**
- `expiresAt`: временная метка автоматического освобождения блокировки (TTL 30 секунд)

**Инварианты агрегата:**
- Блокировка должна ссылаться на конкретный ресурс
- Ресурс не может быть заблокирован дважды в эксклюзивном режиме
- Блокировка автоматически освобождается через 30 секунд
- Держатель блокировки может продлевать блокировку до истечения TTL

**Доменные события:**
- `LockAcquired` (публикуется при получении блокировки)
- `LockRenewed` (публикуется при продлении блокировки)
- `LockReleased` (публикуется при освобождении блокировки)
- `LockExpired` (публикуется при истечении TTL блокировки)
- `LockContentionDetected` (публикуется при обнаружении конкуренции за ресурс)

---

## Заключение

Информационное представление архитектуры, построенное на принципах Domain-Driven Design, обеспечивает:

1. **Чёткую организацию данных** - каждый ограниченный контекст управляет своей областью данных
2. **Инкапсуляцию бизнес-правил** - правила валидации и инварианты встроены в агрегаты
3. **Гибкость изменений** - можно модифицировать один контекст, не затрагивая другие
4. **Масштабируемость** - каждый контекст может масштабироваться независимо
5. **Согласованность данных** - транзакционные границы определяются на уровне агрегатов
6. **Поддержку инфраструктурных требований** - TTL, идемпотентность, распределённые транзакции и блокировки

Данная модель данных служит основой для реализации бизнес-логики, обеспечения целостности данных и поддержки сложных сценариев использования фитнес-социального приложения.
